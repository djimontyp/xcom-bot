# Как запустить проект

### Собрать образ из Dockerfile

### Поднять проект
```bash
docker-compose up -d --remove-orphans  --force-recreate --build
```


### Создать миграцию с кратким описанием (!!! Не забудьте заменить 'init' на свое описание !!!)
Нужно после изменения моделей.
```bash
docker exec -it xcom bash -c "alembic revision --autogenerate -m 'init'"
```

Применить миграции:
```bash
docker exec -it xcom bash -c "alembic upgrade head"
```

Откатить миграции:
```bash
docker exec -it xcom bash -c "alembic downgrade -1"
```

Консоль в контейнере:
```bash
docker-compose -f docker-compose.yml exec -it app bash
```

---

# Описание

Бот в Discord для учета рейтинга игроков и создания игровых сессий на основе рейтинга игроков.

# Функционал:

| Feature                        |   Group   |        Command        |                          Options                          |   Permission    | Описание                                                                                  | 
|:-------------------------------|:---------:|:---------------------:|:---------------------------------------------------------:|:---------------:|-------------------------------------------------------------------------------------------|
| Добавить игрока                | `/player` |        `start`        |                             -                             |    `Player`     | Добавляет игрока<br/>Добавляет роль **"Неофит"**<br/>Если игрок уже в базе - не добавляет |
| Начать поиск сессии            | `/player` |         `go`          |                             -                             |    `Player`     | Начинает поиск сессии                                                                     |
| Установить роли в бота         | `/admin`  |      `set_roles`      | [neofit](#Options), [adept](#Options), [master](#Options) | `Administrator` | Бот запоминает роли которые нужно будет назначать игрокам.                                |
| Посмотреть роли                | `/admin`  |        `roles`        |                                                           | `Administrator` | Посмотреть роли которые нужно будет назначать игрокам.                                    |
| Сообщение для поиска сессии    | `/admin`  |   `session_message`   |                     [rank](#Options)                      | `Administrator` | Вызвать сообщение для поиска сессии с авто обновлением для ранга.                         |

---

### Options:

- `neofit`[Role] - _Роль для новых игроков 0-199 рейтинга._
- `adept`[Role] - _Роль для игроков 200-499 рейтинга._
- `master`[Role] - _Роль для игроков 500-999 рейтинга._
- `channel`[TextChannel] - _Канал в котором будет происходить поиск сессии._
- `rank`[Rank] - _Ранг игрока._
